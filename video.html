<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Shopping Intro</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font family -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');

        /* Keyframes for subtle rotation of the main content */
        @keyframes subtle-rotate {
            0% {
                transform: rotateY(0deg);
            }

            50% {
                transform: rotateY(0.5deg);
            }

            /* Gentle 3D wobble */
            100% {
                transform: rotateY(0deg);
            }
        }

        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            /* Hide scrollbars during animation */
            /* Updated to solid Black Background */
            background-color: #000000;
        }

        /* Custom CSS for animation */
        .intro-container {
            position: relative;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
            /* Apply subtle scene rotation */
            animation: subtle-rotate 30s ease-in-out infinite;
        }

        .animated-text {
            display: inline-block;
            opacity: 0;
            transform: translateY(20px) scale(0.9);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            will-change: opacity, transform;
        }

        .product-card-base {
            position: absolute;
            width: 200px;
            height: 280px;
            background-color: #ffffff;
            /* Updated shadow for visibility on dark background */
            box-shadow: 0 10px 40px rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            opacity: 0;
            /* Initial state for entrance */
            transform: scale(0.8) rotateX(10deg);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            will-change: opacity, transform;
        }

        /* --- Continuous Loop Animations --- */

        /* Keyframes for subtle up-and-down floating */
        @keyframes float-animation {
            0% {
                transform: translateY(0) rotateX(0deg);
            }

            50% {
                transform: translateY(-12px) rotateX(0deg);
            }

            100% {
                transform: translateY(0) rotateX(0deg);
            }
        }

        /* Keyframes for soft pulse on the CTA button */
        @keyframes pulse-cta {

            0%,
            100% {
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1), 0 0 0 0 rgba(99, 102, 241, 0);
            }

            50% {
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1), 0 0 30px 5px rgba(99, 102, 241, 0.5);
            }
        }

        /* Class applied after initial entrance */
        .float-loop-1 {
            animation: float-animation 6s ease-in-out infinite;
        }

        .float-loop-2 {
            animation: float-animation 7s ease-in-out infinite 0.5s;
        }

        .float-loop-3 {
            animation: float-animation 5s ease-in-out infinite 1s;
        }

        .float-loop-4 {
            animation: float-animation 6.5s ease-in-out infinite 1.5s;
        }

        .cta-pulse-loop {
            animation: pulse-cta 4s ease-in-out infinite;
        }

        /* Responsive adjustments */
        @media (max-width: 640px) {
            .product-card-base {
                width: 140px;
                height: 200px;
            }

            .main-title {
                font-size: 2.5rem;
            }

            .subtitle {
                font-size: 1rem;
            }
        }
    </style>
</head>

<body>

    <div class="intro-container">

        <!-- Main Text Section -->
        <div id="main-content" class="text-center z-10 p-4 transition duration-1000">
            <h1 class="main-title text-6xl md:text-8xl font-extrabold text-gray-100 mb-4 tracking-tight">
                <span class="animated-text">Discover</span>
                <span class="animated-text text-indigo-400">Your</span>
                <span class="animated-text">Next</span>
                <span class="animated-text">Favorite.</span>
            </h1>
            <p class="subtitle text-xl md:text-2xl text-gray-300 font-medium">
                <span class="animated-text">The best trends, delivered to you.</span>
            </p>
            <button id="cta-button"
                class="mt-8 px-8 py-3 bg-indigo-600 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-700 transition duration-300 opacity-0 transform translate-y-5">
                Start Shopping Now
            </button>
        </div>

        <!-- Animated Product Cards -->
        <div id="card1" class="product-card-base bg-indigo-50" style="top: 15%; left: 10%;">
            <div
                class="w-full h-3/4 bg-indigo-200 rounded-lg flex items-center justify-center text-4xl text-indigo-600">
                <!-- Icon Placeholder: T-Shirt -->
                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                </svg>
            </div>
            <div class="text-center">
                <p class="font-bold text-gray-800">Apparel</p>
                <p class="text-sm text-indigo-500">$59.99</p>
            </div>
        </div>

        <div id="card2" class="product-card-base bg-pink-50" style="bottom: 15%; right: 10%;">
            <div class="w-full h-3/4 bg-pink-200 rounded-lg flex items-center justify-center text-4xl text-pink-600">
                <!-- Icon Placeholder: Watch -->
                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </div>
            <div class="text-center">
                <p class="font-bold text-gray-800">Accessories</p>
                <p class="text-sm text-pink-500">$129.00</p>
            </div>
        </div>

        <div id="card3" class="product-card-base bg-green-50" style="top: 10%; right: 25%;">
            <div class="w-full h-3/4 bg-green-200 rounded-lg flex items-center justify-center text-4xl text-green-600">
                <!-- Icon Placeholder: Headphone -->
                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z">
                    </path>
                </svg>
            </div>
            <div class="text-center">
                <p class="font-bold text-gray-800">Tech</p>
                <p class="text-sm text-green-500">$249.50</p>
            </div>
        </div>

        <div id="card4" class="product-card-base bg-yellow-50" style="bottom: 10%; left: 25%;">
            <div
                class="w-full h-3/4 bg-yellow-200 rounded-lg flex items-center justify-center text-4xl text-yellow-600">
                <!-- Icon Placeholder: Camera -->
                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.865-1.297a2 2 0 011.664-.89h1.777a2 2 0 011.664.89l.865 1.297a2 2 0 001.664.89H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z">
                    </path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
            </div>
            <div class="text-center">
                <p class="font-bold text-gray-800">Media</p>
                <p class="text-sm text-yellow-600">$499.00</p>
            </div>
        </div>

    </div>

    <script>
        // Constants for animation
        const FADE_IN_DURATION = 500; // milliseconds
        const STAGGER_DELAY = 100; // milliseconds between each element
        const CARD_DELAY = 1500; // delay before cards appear

        const animatedTexts = document.querySelectorAll('.main-title .animated-text, .subtitle .animated-text');
        const cards = [
            { id: 'card1', finalTransform: 'translate(0, 0) rotateX(0deg)', loopClass: 'float-loop-1' },
            { id: 'card2', finalTransform: 'translate(0, 0) rotateX(0deg)', loopClass: 'float-loop-2' },
            { id: 'card3', finalTransform: 'translate(0, 0) rotateX(0deg)', loopClass: 'float-loop-3' },
            { id: 'card4', finalTransform: 'translate(0, 0) rotateX(0deg)', loopClass: 'float-loop-4' },
        ];
        const ctaButton = document.getElementById('cta-button');

        // Utility function for exponential backoff retry for fetching (kept for best practice)
        async function fetchWithRetry(url, options = {}, retries = 3) {
            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    return response;
                } catch (error) {
                    if (i < retries - 1) {
                        const delay = Math.pow(2, i) * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                    } else {
                        console.error("Fetch failed after all retries:", error);
                        throw error;
                    }
                }
            }
        }


        /**
         * Animates the text elements sequentially.
         */
        function animateText() {
            animatedTexts.forEach((el, index) => {
                setTimeout(() => {
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0) scale(1)';
                }, index * STAGGER_DELAY);
            });
        }

        /**
         * Animates the product cards in, then applies the continuous loop.
         */
        function animateCards() {
            cards.forEach((card, index) => {
                const el = document.getElementById(card.id);
                if (el) {
                    // Initial entrance animation
                    setTimeout(() => {
                        el.style.opacity = '1';
                        el.style.transform = card.finalTransform;

                        // Apply continuous CSS floating loop after initial transition completes (0.8s)
                        setTimeout(() => {
                            // Apply the unique loop class
                            el.classList.add(card.loopClass);
                            // Reset the transition property to handle the combination of initial JS move and CSS loop
                            el.style.transition = 'none';
                        }, 800);

                    }, CARD_DELAY + index * 200); // Stagger card entrance slightly
                }
            });
        }

        /**
         * Animates the Call To Action button, then applies the continuous pulse.
         */
        function animateCTA() {
            const totalTextDelay = animatedTexts.length * STAGGER_DELAY;
            const totalDelay = Math.max(totalTextDelay, CARD_DELAY);

            setTimeout(() => {
                // Initial entrance
                ctaButton.style.opacity = '1';
                ctaButton.style.transform = 'translateY(0)';

                // Apply continuous pulse after entrance completes (300ms)
                setTimeout(() => {
                    ctaButton.classList.add('cta-pulse-loop');
                }, 300);

            }, totalDelay + 500); // 500ms after the last text element appears
        }

        // Initialize the whole sequence
        window.onload = function () {
            animateText();
            animateCards();
            animateCTA();
        }

        // Optional: Add a subtle click handler for the CTA button
        ctaButton.addEventListener('click', () => {
            // In a real application, this would navigate to the shop page
            console.log('Navigating to shopping page...');
            alertBox('Success! Heading to the shop now.', 'bg-indigo-600');
        });

        // --- Custom Modal/Alert Box Functions (No alert() or confirm()) ---

        /**
         * Creates and displays a temporary custom alert box.
         * @param {string} message - The message to display.
         * @param {string} colorClass - Tailwind class for background color (e.g., 'bg-red-500').
         */
        function alertBox(message, colorClass) {
            let box = document.getElementById('custom-alert-box');
            if (!box) {
                box = document.createElement('div');
                box.id = 'custom-alert-box';
                box.className = 'fixed top-4 right-4 z-50 p-4 rounded-lg shadow-2xl transition-opacity duration-300 ease-in-out text-white font-semibold text-center max-w-xs';
                document.body.appendChild(box);
            }

            box.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-2xl transition-opacity duration-300 ease-in-out text-white font-semibold text-center max-w-xs ${colorClass}`;
            box.innerHTML = message;
            box.style.opacity = '1';
            box.style.transform = 'translateY(0)';

            // Auto-hide after 3 seconds
            setTimeout(() => {
                box.style.opacity = '0';
                box.style.transform = 'translateY(-20px)';
            }, 3000);
        }

    </script>

</body>

</html>